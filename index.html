<!doctype html>
<html lang="ro">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Ve»ôti bune</title>

<style>
:root{
  --bg:#0b0b0f;
  --panel:#14141d;
  --text:#f2f2f7;
  --muted:#b7b7c7;
  --muted2:#8b8ba1;
  --border:rgba(255,255,255,.10);
  --shadow:0 10px 30px rgba(0,0,0,.35);
  --r:18px;
  --max:1180px;
  --btn:#1b1b2a;
  --btn2:#23233a;
  --link:#9fd3ff;
}

*{box-sizing:border-box}
body{
  margin:0;
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;
  background:var(--bg);
  color:var(--text);
}
.wrap{max-width:var(--max);margin:0 auto;padding:20px}

/* HEADER */
header{
  display:flex;
  justify-content:space-between;
  align-items:flex-end;
  margin-bottom:20px;
}
h1{margin:0;font-size:26px}
.sub{color:var(--muted);font-size:14px}

/* TOP 3 CARDS */
.grid3{
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:14px;
  margin-bottom:18px;
}
.card{
  background:var(--panel);
  border:1px solid var(--border);
  border-radius:var(--r);
  overflow:hidden;
  box-shadow:var(--shadow);
  display:flex;
  flex-direction:column;
}
.photo{
  height:190px;
  overflow:hidden;
}
.photo img{
  width:100%;
  height:100%;
  object-fit:cover;
  display:block;
}
.tag{
  position:absolute;
}
.body{
  padding:12px;
  min-height:80px;
}
.title{
  margin:0;
  font-weight:700;
  font-size:14px;
}
.small{
  margin:4px 0 0;
  font-size:12px;
  color:var(--muted);
}

/* JOKE + SATIRE */
.grid2{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:14px;
  margin-bottom:20px;
}
.mini{
  background:var(--panel);
  border:1px solid var(--border);
  border-radius:var(--r);
  padding:14px;
  box-shadow:var(--shadow);
}
.mini h2{margin:0 0 10px;font-size:15px}
.mini p{margin:0}

/* CONTROLS */
.controls{
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin-bottom:14px;
}
button{
  border:1px solid var(--border);
  background:var(--btn);
  color:var(--text);
  padding:8px 14px;
  border-radius:999px;
  cursor:pointer;
}
button.active{
  background:var(--btn2);
  border-color:#9fd3ff;
}

/* NEWS */
.section{
  background:var(--panel);
  border:1px solid var(--border);
  border-radius:var(--r);
  margin-bottom:14px;
  box-shadow:var(--shadow);
}
.sectionhead{
  padding:12px;
  border-bottom:1px solid var(--border);
  font-weight:700;
}
.item{
  display:grid;
  grid-template-columns:160px 1fr;
  gap:12px;
  padding:12px;
  border-top:1px solid var(--border);
}
.thumb{
  height:100px;
  overflow:hidden;
  border-radius:12px;
}
.thumb img{
  width:100%;
  height:100%;
  object-fit:cover;
}
.meta .t{
  margin:0;
  font-weight:700;
}
.meta .s{
  margin:4px 0;
  font-size:13px;
  color:var(--muted);
}
.meta .row{
  font-size:12px;
  color:var(--muted2);
}

/* MOBILE */
@media(max-width:900px){
  .grid3{grid-template-columns:1fr}
  .grid2{grid-template-columns:1fr}
  .item{grid-template-columns:1fr}
  .thumb{height:200px}
}
</style>
</head>

<body>
<div class="wrap">

<header>
  <div>
    <h1>Ve»ôti bune</h1>
    <div class="sub">Rom√¢nia (RO) + Global (EN)</div>
  </div>
</header>

<!-- TOP -->
<div class="grid3">
  <div class="card">
    <div class="photo">
      <img src="https://picsum.photos/seed/vbspace/1200/800"/>
    </div>
    <div class="body">
      <p class="title">Space</p>
      <p class="small">Astronomie »ôi cosmos</p>
    </div>
  </div>

  <div class="card">
    <div class="photo">
      <img src="https://picsum.photos/seed/vbanimals/1200/800"/>
    </div>
    <div class="body">
      <p class="title">Animals</p>
      <p class="small">Doar vibe bun üêæ</p>
    </div>
  </div>

  <div class="card">
    <div class="photo">
      <img src="https://picsum.photos/seed/vblandscape/1200/800"/>
    </div>
    <div class="body">
      <p class="title">Landscape</p>
      <p class="small">NaturƒÉ »ôi reset mental</p>
    </div>
  </div>
</div>

<!-- JOKE + SATIRE -->
<div class="grid2">
  <div class="mini">
    <h2>Gluma zilei</h2>
    <p id="jokeText">Se √ÆncarcƒÉ‚Ä¶</p>
  </div>
  <div class="mini">
    <h2>Satira zilei</h2>
    <p id="satireText">Se √ÆncarcƒÉ‚Ä¶</p>
  </div>
</div>

<!-- CONTROLS -->
<div class="controls">
  <div>
    <button id="btnMix" class="active">Mix</button>
    <button id="btnRO">RO</button>
    <button id="btnEN">EN</button>
  </div>
  <div id="statusText">Se √ÆncarcƒÉ »ôtirile‚Ä¶</div>
</div>

<div id="sections"></div>

</div>

<script>
// Simplified stable logic

const jokes=[
"QA-ul nu merge la petreceri. GƒÉse»ôte bug-uri √Æn atmosferƒÉ.",
"DacƒÉ totul pare ok, n-ai testat suficient.",
"Am reparat bug-ul. Am gƒÉsit √ÆncƒÉ 5."
];
const satire=[
"Rom√¢nia intrƒÉ √Æn topul optimismului dupƒÉ dezinstalarea notificƒÉrilor.",
"NouƒÉ metodƒÉ de productivitate: √Ænchizi 3 tab-uri.",
"9 din 10 oameni preferƒÉ ve»ôtile bune."
];

function daily(arr){
  const d=new Date();
  return arr[d.getDate()%arr.length];
}
document.getElementById("jokeText").innerText=daily(jokes);
document.getElementById("satireText").innerText=daily(satire);

let mode="mix";
const sectionsEl=document.getElementById("sections");

function render(data){
  sectionsEl.innerHTML="";
  Object.keys(data).forEach(sec=>{
    const box=document.createElement("div");
    box.className="section";
    box.innerHTML=`<div class="sectionhead">${sec.toUpperCase()}</div>`;
    data[sec].forEach(it=>{
      const img=it.image||`https://picsum.photos/seed/${btoa(it.title).slice(0,8)}/900/600`;
      const row=document.createElement("div");
      row.className="item";
      row.innerHTML=`
        <div class="thumb"><img src="${img}"/></div>
        <div class="meta">
          <p class="t"><a target="_blank" href="${it.link}">${it.title}</a></p>
          <p class="s">${it.summary||""}</p>
          <div class="row">${it.source||""}</div>
        </div>`;
      box.appendChild(row);
    });
    sectionsEl.appendChild(box);
  });
}

async function load(){
  const res=await fetch("./data/news.json?"+Date.now());
  const raw=await res.json();
  const all=raw.sections||{};
  let out={};
  if(mode==="mix") out=all;
  if(mode==="ro") Object.keys(all).forEach(k=>out[k]=all[k].filter(i=>i.kind==="ro"));
  if(mode==="en") Object.keys(all).forEach(k=>out[k]=all[k].filter(i=>i.kind!=="ro"));
  render(out);
  document.getElementById("statusText").innerText="Actualizat";
}

document.getElementById("btnMix").onclick=()=>{mode="mix";load()};
document.getElementById("btnRO").onclick=()=>{mode="ro";load()};
document.getElementById("btnEN").onclick=()=>{mode="en";load()};

load();
</script>
</body>
</html>
